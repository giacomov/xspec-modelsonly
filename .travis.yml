sudo: required
language: generic
matrix:
  include:
  - os: linux
    python: 2.7
    env: TRAVIS_PYTHON_VERSION=2.7
  - os: osx
    python: 2.7
    env: TRAVIS_PYTHON_VERSION=2.7
before_install:
- |
  if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then
    wget https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh -O miniconda.sh
    bash miniconda.sh -b -p $HOME/miniconda
    export PATH="$HOME/miniconda/bin:$PATH"
    conda install -y conda-build
  else
    # Install Miniconda
    wget https://repo.continuum.io/miniconda/Miniconda3-latest-MacOSX-x86_64.sh -O miniconda.sh
    bash miniconda.sh -b -p $HOME/miniconda
    export PATH="$HOME/miniconda/bin:$PATH"
    conda install -y conda-build
  fi
script:
- chmod u+x ci/build_and_test.sh
- travis_wait 120 ./ci/build_and_test.sh
env:
  global:
    secure: dR1StHoi1kXH65d0zFsVYFAFZjUUfjH1de9C7ddlBx19BRIWCgiTiUXIagGVsypFY6IHWQkDFENC3MxozquOBm1jr9702Fn9eJCDKaxRIBpD74/mYMottqkZ6nbvcECm/D8WO/aLUu8TFDeHQTylI2P4SuPei/iZlAQuBCS2bwghctrDiaETS9515GOVCJ9vxC5tia4mzf9xd+cTXja7v5+XOLFdL3efO4vt6jSOQd/cSZKpJTDyzp+lsKHvnpZp9gpUTJZkrac9V+mp0SbJ24Ea1RS/ka3vCBgpYkORmBTzTfsZvL7YU5DGIz5q/uVwD6uym/M8Go6aH9xIFq1y4qJUICVxgEkY+yKNfI/TiMD3Vi8/SAwdohJ9fy3WB3LjCnSDWLGKGV7sPn0Pc7RjKnQuO78iNBT8DHAMGS0EPftybVg9alThiXk3hEzVZ9+XWyA5hl53rofk3R8eVRD/NTZkodOE/MPzTK0eWhuntSYWBLRh5HklrDSFmIGcm7Aj/whuGhK7HWxaMAj0gNzuFR/nC7B6KBSrI+rD/5eyshLfZSwuI9MWT2cqnNANnY1bupGhsEuN6Y7LnJklk5HCWcqWBHb+dMxBarkiWZ2WFuRplnyRVTOWDS+d3hsO83nekpkCaL9m+jXDpZiMNZfuweir9tDwWyrofe2Otg2SK0Q=
